#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : harfbuzz
Version  : 2.6.7
Release  : 102
URL      : https://www.freedesktop.org/software/harfbuzz/release/harfbuzz-2.6.7.tar.xz
Source0  : https://www.freedesktop.org/software/harfbuzz/release/harfbuzz-2.6.7.tar.xz
Summary  : HarfBuzz text shaping library
Group    : Development/Tools
License  : Apache-2.0 MIT OFL-1.1
Requires: harfbuzz-bin = %{version}-%{release}
Requires: harfbuzz-lib = %{version}-%{release}
Requires: harfbuzz-license = %{version}-%{release}
BuildRequires : buildreq-meson
BuildRequires : docbook-xml
BuildRequires : gobject-introspection
BuildRequires : gobject-introspection-dev
BuildRequires : graphite-dev
BuildRequires : gtk-doc
BuildRequires : gtk-doc-dev
BuildRequires : libxslt-bin
BuildRequires : pkgconfig(cairo)
BuildRequires : pkgconfig(cairo-ft)
BuildRequires : pkgconfig(fontconfig)
BuildRequires : pkgconfig(glib-2.0)
BuildRequires : pkgconfig(gobject-2.0)
BuildRequires : pkgconfig(icu-uc)

%description
This is HarfBuzz, a text shaping library.

%package bin
Summary: bin components for the harfbuzz package.
Group: Binaries
Requires: harfbuzz-license = %{version}-%{release}

%description bin
bin components for the harfbuzz package.


%package dev
Summary: dev components for the harfbuzz package.
Group: Development
Requires: harfbuzz-lib = %{version}-%{release}
Requires: harfbuzz-bin = %{version}-%{release}
Provides: harfbuzz-devel = %{version}-%{release}
Requires: harfbuzz = %{version}-%{release}

%description dev
dev components for the harfbuzz package.


%package doc
Summary: doc components for the harfbuzz package.
Group: Documentation

%description doc
doc components for the harfbuzz package.


%package lib
Summary: lib components for the harfbuzz package.
Group: Libraries
Requires: harfbuzz-license = %{version}-%{release}

%description lib
lib components for the harfbuzz package.


%package license
Summary: license components for the harfbuzz package.
Group: Default

%description license
license components for the harfbuzz package.


%prep
%setup -q -n harfbuzz-2.6.7
cd %{_builddir}/harfbuzz-2.6.7
pushd ..
cp -a harfbuzz-2.6.7 buildavx2
popd

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C.UTF-8
export SOURCE_DATE_EPOCH=1600300969
export GCC_IGNORE_WERROR=1
export AR=gcc-ar
export RANLIB=gcc-ranlib
export NM=gcc-nm
export CFLAGS="$CFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
export FCFLAGS="$FFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
export FFLAGS="$FFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
export CXXFLAGS="$CXXFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
%configure --disable-static --with-icu=yes --with-glib --with-freetype --with-cairo --with-icu --enable-introspection --with-graphite2
make  %{?_smp_mflags}

unset PKG_CONFIG_PATH
pushd ../buildavx2/
export CFLAGS="$CFLAGS -m64 -march=haswell"
export CXXFLAGS="$CXXFLAGS -m64 -march=haswell"
export FFLAGS="$FFLAGS -m64 -march=haswell"
export FCFLAGS="$FCFLAGS -m64 -march=haswell"
export LDFLAGS="$LDFLAGS -m64 -march=haswell"
%configure --disable-static --with-icu=yes --with-glib --with-freetype --with-cairo --with-icu --enable-introspection --with-graphite2
make  %{?_smp_mflags}
popd
%check
export LANG=C.UTF-8
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
make %{?_smp_mflags} check
cd ../buildavx2;
make %{?_smp_mflags} check || :

%install
export SOURCE_DATE_EPOCH=1600300969
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/package-licenses/harfbuzz
cp %{_builddir}/harfbuzz-2.6.7/COPYING %{buildroot}/usr/share/package-licenses/harfbuzz/18c194fb2b96b6a60289a79265e76976ffdb303d
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/data/aots/COPYING %{buildroot}/usr/share/package-licenses/harfbuzz/f8c8a69b50f2eb0c11c277dfff1f4c69a014a24a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/data/in-house/COPYING %{buildroot}/usr/share/package-licenses/harfbuzz/6ee2d8efdf85d9dba10ec1d9f4fb821baf2db4f4
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/data/text-rendering-tests/COPYING %{buildroot}/usr/share/package-licenses/harfbuzz/2f52d0b1bf8ddf82117ba37aefc4d5945392c005
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-assamese/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-bengali/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-devanagari/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-gujarati/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-gurmukhi/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-kannada/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-malayalam/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-oriya/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-sinhala/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-tamil/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
cp %{_builddir}/harfbuzz-2.6.7/test/shaping/texts/in-house/shaper-indic/script-telugu/utrrs/LICENSE %{buildroot}/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
pushd ../buildavx2/
%make_install_avx2
popd
%make_install

%files
%defattr(-,root,root,-)

%files bin
%defattr(-,root,root,-)
/usr/bin/haswell/hb-ot-shape-closure
/usr/bin/haswell/hb-shape
/usr/bin/haswell/hb-subset
/usr/bin/haswell/hb-view
/usr/bin/hb-ot-shape-closure
/usr/bin/hb-shape
/usr/bin/hb-subset
/usr/bin/hb-view

%files dev
%defattr(-,root,root,-)
/usr/include/harfbuzz/hb-aat-layout.h
/usr/include/harfbuzz/hb-aat.h
/usr/include/harfbuzz/hb-blob.h
/usr/include/harfbuzz/hb-buffer.h
/usr/include/harfbuzz/hb-common.h
/usr/include/harfbuzz/hb-deprecated.h
/usr/include/harfbuzz/hb-draw.h
/usr/include/harfbuzz/hb-face.h
/usr/include/harfbuzz/hb-font.h
/usr/include/harfbuzz/hb-ft.h
/usr/include/harfbuzz/hb-glib.h
/usr/include/harfbuzz/hb-graphite2.h
/usr/include/harfbuzz/hb-icu.h
/usr/include/harfbuzz/hb-map.h
/usr/include/harfbuzz/hb-ot-color.h
/usr/include/harfbuzz/hb-ot-deprecated.h
/usr/include/harfbuzz/hb-ot-font.h
/usr/include/harfbuzz/hb-ot-layout.h
/usr/include/harfbuzz/hb-ot-math.h
/usr/include/harfbuzz/hb-ot-meta.h
/usr/include/harfbuzz/hb-ot-metrics.h
/usr/include/harfbuzz/hb-ot-name.h
/usr/include/harfbuzz/hb-ot-shape.h
/usr/include/harfbuzz/hb-ot-var.h
/usr/include/harfbuzz/hb-ot.h
/usr/include/harfbuzz/hb-set.h
/usr/include/harfbuzz/hb-shape-plan.h
/usr/include/harfbuzz/hb-shape.h
/usr/include/harfbuzz/hb-subset.h
/usr/include/harfbuzz/hb-unicode.h
/usr/include/harfbuzz/hb-version.h
/usr/include/harfbuzz/hb.h
/usr/lib64/cmake/harfbuzz/harfbuzz-config.cmake
/usr/lib64/haswell/libharfbuzz-subset.so
/usr/lib64/haswell/libharfbuzz.so
/usr/lib64/libharfbuzz-icu.so
/usr/lib64/libharfbuzz-subset.so
/usr/lib64/libharfbuzz.so
/usr/lib64/pkgconfig/harfbuzz-icu.pc
/usr/lib64/pkgconfig/harfbuzz-subset.pc
/usr/lib64/pkgconfig/harfbuzz.pc

%files doc
%defattr(0644,root,root,0755)
/usr/share/gtk-doc/html/harfbuzz/HarfBuzz.png
/usr/share/gtk-doc/html/harfbuzz/HarfBuzz.svg
/usr/share/gtk-doc/html/harfbuzz/a-clustering-example-for-levels-0-and-1.html
/usr/share/gtk-doc/html/harfbuzz/aat-shaping.html
/usr/share/gtk-doc/html/harfbuzz/adding-text-to-the-buffer.html
/usr/share/gtk-doc/html/harfbuzz/annotation-glossary.html
/usr/share/gtk-doc/html/harfbuzz/api-index-full.html
/usr/share/gtk-doc/html/harfbuzz/buffers-language-script-and-direction.html
/usr/share/gtk-doc/html/harfbuzz/building.html
/usr/share/gtk-doc/html/harfbuzz/ch01s03.html
/usr/share/gtk-doc/html/harfbuzz/ch03s02.html
/usr/share/gtk-doc/html/harfbuzz/ch03s03.html
/usr/share/gtk-doc/html/harfbuzz/ch12.html
/usr/share/gtk-doc/html/harfbuzz/ch13.html
/usr/share/gtk-doc/html/harfbuzz/ch14.html
/usr/share/gtk-doc/html/harfbuzz/ch15.html
/usr/share/gtk-doc/html/harfbuzz/clusters.html
/usr/share/gtk-doc/html/harfbuzz/complex-scripts.html
/usr/share/gtk-doc/html/harfbuzz/customizing-unicode-functions.html
/usr/share/gtk-doc/html/harfbuzz/fonts-and-faces-custom-functions.html
/usr/share/gtk-doc/html/harfbuzz/fonts-and-faces-native-opentype.html
/usr/share/gtk-doc/html/harfbuzz/fonts-and-faces-variable.html
/usr/share/gtk-doc/html/harfbuzz/fonts-and-faces.html
/usr/share/gtk-doc/html/harfbuzz/getting-started.html
/usr/share/gtk-doc/html/harfbuzz/graphite-shaping.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-aat-layout.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-blob.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-buffer.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-common.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-coretext.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-deprecated.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-face.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-font.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ft.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-glib.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-gobject.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-graphite2.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-icu.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-map.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ot-color.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ot-font.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ot-layout.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ot-math.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ot-name.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ot-shape.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-ot-var.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-set.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-shape-plan.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-shape.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-unicode.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-uniscribe.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz-hb-version.html
/usr/share/gtk-doc/html/harfbuzz/harfbuzz.devhelp2
/usr/share/gtk-doc/html/harfbuzz/home.png
/usr/share/gtk-doc/html/harfbuzz/index.html
/usr/share/gtk-doc/html/harfbuzz/install-harfbuzz.html
/usr/share/gtk-doc/html/harfbuzz/integration-coretext.html
/usr/share/gtk-doc/html/harfbuzz/integration-freetype.html
/usr/share/gtk-doc/html/harfbuzz/integration-icu.html
/usr/share/gtk-doc/html/harfbuzz/integration-python.html
/usr/share/gtk-doc/html/harfbuzz/integration-uniscribe.html
/usr/share/gtk-doc/html/harfbuzz/integration.html
/usr/share/gtk-doc/html/harfbuzz/left-insensitive.png
/usr/share/gtk-doc/html/harfbuzz/left.png
/usr/share/gtk-doc/html/harfbuzz/level-2.html
/usr/share/gtk-doc/html/harfbuzz/object-model-blobs.html
/usr/share/gtk-doc/html/harfbuzz/object-model-lifecycle.html
/usr/share/gtk-doc/html/harfbuzz/object-model-object-types.html
/usr/share/gtk-doc/html/harfbuzz/object-model-user-data.html
/usr/share/gtk-doc/html/harfbuzz/object-model.html
/usr/share/gtk-doc/html/harfbuzz/opentype-shaping-models.html
/usr/share/gtk-doc/html/harfbuzz/pt01.html
/usr/share/gtk-doc/html/harfbuzz/pt02.html
/usr/share/gtk-doc/html/harfbuzz/reordering-in-levels-0-and-1.html
/usr/share/gtk-doc/html/harfbuzz/right-insensitive.png
/usr/share/gtk-doc/html/harfbuzz/right.png
/usr/share/gtk-doc/html/harfbuzz/setting-buffer-properties.html
/usr/share/gtk-doc/html/harfbuzz/shaping-and-shape-plans.html
/usr/share/gtk-doc/html/harfbuzz/shaping-concepts.html
/usr/share/gtk-doc/html/harfbuzz/shaping-opentype-features.html
/usr/share/gtk-doc/html/harfbuzz/shaping-operations.html
/usr/share/gtk-doc/html/harfbuzz/shaping-plans-and-caching.html
/usr/share/gtk-doc/html/harfbuzz/shaping-shaper-selection.html
/usr/share/gtk-doc/html/harfbuzz/style.css
/usr/share/gtk-doc/html/harfbuzz/text-runs.html
/usr/share/gtk-doc/html/harfbuzz/the-distinction-between-levels-0-and-1.html
/usr/share/gtk-doc/html/harfbuzz/unicode-character-categories.html
/usr/share/gtk-doc/html/harfbuzz/up-insensitive.png
/usr/share/gtk-doc/html/harfbuzz/up.png
/usr/share/gtk-doc/html/harfbuzz/utilities-common-types-apis.html
/usr/share/gtk-doc/html/harfbuzz/utilities-ucdn.html
/usr/share/gtk-doc/html/harfbuzz/utilities.html
/usr/share/gtk-doc/html/harfbuzz/what-harfbuzz-doesnt-do.html
/usr/share/gtk-doc/html/harfbuzz/what-is-harfbuzz.html
/usr/share/gtk-doc/html/harfbuzz/why-do-i-need-a-shaping-engine.html
/usr/share/gtk-doc/html/harfbuzz/why-is-it-called-harfbuzz.html
/usr/share/gtk-doc/html/harfbuzz/working-with-harfbuzz-clusters.html

%files lib
%defattr(-,root,root,-)
/usr/lib64/haswell/libharfbuzz-subset.so.0
/usr/lib64/haswell/libharfbuzz-subset.so.0.20600.7
/usr/lib64/haswell/libharfbuzz.so.0
/usr/lib64/haswell/libharfbuzz.so.0.20600.7
/usr/lib64/libharfbuzz-icu.so.0
/usr/lib64/libharfbuzz-icu.so.0.20600.7
/usr/lib64/libharfbuzz-subset.so.0
/usr/lib64/libharfbuzz-subset.so.0.20600.7
/usr/lib64/libharfbuzz.so.0
/usr/lib64/libharfbuzz.so.0.20600.7

%files license
%defattr(0644,root,root,0755)
/usr/share/package-licenses/harfbuzz/18c194fb2b96b6a60289a79265e76976ffdb303d
/usr/share/package-licenses/harfbuzz/2f52d0b1bf8ddf82117ba37aefc4d5945392c005
/usr/share/package-licenses/harfbuzz/6ee2d8efdf85d9dba10ec1d9f4fb821baf2db4f4
/usr/share/package-licenses/harfbuzz/d1b9f10b93a02a3b2ada5dafbe7a55420d2a007a
/usr/share/package-licenses/harfbuzz/f8c8a69b50f2eb0c11c277dfff1f4c69a014a24a
